{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block extrahead %}
<script src="/static/scripts/dashboard.js"></script>
{% endblock %}
{% block maincontent %}
<div id="weather" class="container down">
    <a class="weatherwidget-io container" href="https://forecast7.com/en/51d281d08/canterbury/" data-font="Roboto"
        data-icons="Climacons" data-days="5" data-theme="pure" data-basecolor="rgba(0, 0, 0, 0.04)"
        data-accent="rgba(1, 1, 1, 0)" data-textcolor="#ffffff" data-highcolor="#ff0000" data-lowcolor="#0012ff"
        data-suncolor="#fde925" data-mooncolor="#383838" data-cloudcolor="#383838" data-cloudfill="#dddddd"
        data-raincolor="#0012ff" data-snowcolor="#00ffff">Canterbury, UK</a>
    <script>
        !function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = 'https://weatherwidget.io/js/widget.min.js'; fjs.parentNode.insertBefore(js, fjs); } }(document, 'script', 'weatherwidget-io-js');
    </script>
</div>

<div id="messages" class="container down">
    <h2>Messages</h2>
    <a class="button" href="{{ url_for('home.new_message') }}">New Message</a>
    <table class="plain" id="loadedmessages">
        <tbody>
            {% for message in messages %}
            <tr id="message_{{ message.id_ }}">
                <td>{{ message.message }}</td>
                <td><button onclick="delete_message({{ message.id_ }})">Close</button></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% if shortcuts %}
<div id="shortcuts" class="container down">
    <h2>Shortcuts</h2>
    {% for i in shortcuts %}
    <a class="button"
        href="{{ url_for(i.shortcut.url_endpoint, **i.shortcut.url_variables) }}">{{ i.shortcut.name }}</a>
    {% endfor %}
</div>
{% endif %}

<a class="button" href="{{ url_for('home.command_center') }}">Command Center</a>
<script>const live_update_ws = new LiveUpdateWS(["messages"])</script>
{% endblock %}
